# ✅ Аккордеон для настроек профиля

## 🎯 Что добавлено

### Спойлеры (Аккордеон) в настройках

Все настройки теперь организованы в раскрывающиеся секции:

#### 1. Основные настройки 👤
- Статус (онлайн/отошел/оффлайн)
- Имя пользователя
- Email
- Телефон
- Должность
- Имя и Фамилия

#### 2. Уведомления 🔔
- Push-уведомления
- Звуковые уведомления
- Email уведомления

#### 3. Разрешения 🛡️
- Камера
- Фотоальбом
- Хранилище
- Микрофон

---

## 🎨 Интерфейс

### Свернутое состояние (по умолчанию):
```
┌─────────────────────────────────────────┐
│ Настройки                               │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 👤 Основные настройки          ▼   │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 🔔 Уведомления                 ▼   │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 🛡️ Разрешения                   ▼   │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### Развернутое состояние:
```
┌─────────────────────────────────────────┐
│ Настройки                               │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 👤 Основные настройки          ▲   │ │
│ ├─────────────────────────────────────┤ │
│ │ Статус                              │ │
│ │ [🟢 Онлайн ▼]                       │ │
│ │                                     │ │
│ │ Имя пользователя                    │ │
│ │ [ivan_ivanov] [Изменить]            │ │
│ │                                     │ │
│ │ Email                               │ │
│ │ [ivan@example.com] [Изменить]       │ │
│ │ ...                                 │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 🔔 Уведомления                 ▼   │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 🛡️ Разрешения                   ▼   │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

---

## 🔧 Техническая реализация

### Структура компонента:
```vue
<template>
  <!-- Аккордеон: Основные настройки -->
  <div class="border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden">
    <!-- Заголовок (кнопка) -->
    <button
      @click="toggleSection('basic')"
      class="w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
    >
      <div class="flex items-center gap-3">
        <UserCircleIcon class="w-5 h-5 text-gray-600 dark:text-gray-400" />
        <span class="font-medium text-gray-900 dark:text-gray-100">Основные настройки</span>
      </div>
      <ChevronDownIcon
        :class="[
          'w-5 h-5 text-gray-600 dark:text-gray-400 transition-transform',
          expandedSections.basic ? 'rotate-180' : ''
        ]"
      />
    </button>
    
    <!-- Содержимое (скрыто по умолчанию) -->
    <div v-show="expandedSections.basic" class="p-4 space-y-6 bg-white dark:bg-gray-800">
      <!-- Поля настроек -->
    </div>
  </div>
</template>
```

### Логика:
```javascript
// Состояние аккордеона
const expandedSections = ref({
  basic: false,          // Основные настройки - свернуто
  notifications: false,  // Уведомления - свернуто
  permissions: false     // Разрешения - свернуто
})

// Переключение секций
function toggleSection(section) {
  expandedSections.value[section] = !expandedSections.value[section]
}
```

---

## 🎨 Дизайн

### Заголовок секции:
- **Фон:** Светло-серый (светлая тема) / Темно-серый (темная тема)
- **Hover:** Более темный оттенок
- **Иконка:** Слева от названия
- **Стрелка:** Справа, поворачивается при раскрытии
- **Переход:** Плавная анимация

### Содержимое:
- **Фон:** Белый (светлая тема) / Темный (темная тема)
- **Отступы:** 16px со всех сторон
- **Анимация:** v-show для мгновенного показа/скрытия

### Иконки секций:
- 👤 **Основные настройки** - UserCircleIcon
- 🔔 **Уведомления** - BellIcon
- 🛡️ **Разрешения** - ShieldCheckIcon

### Стрелка:
- **По умолчанию:** Вниз (▼)
- **При раскрытии:** Вверх (▲) - rotate-180
- **Анимация:** transition-transform

---

## 💡 Преимущества

### 1. Организация:
- ✅ Логическая группировка настроек
- ✅ Легко найти нужную настройку
- ✅ Меньше прокрутки

### 2. UX:
- ✅ Чистый интерфейс
- ✅ Фокус на важном
- ✅ Интуитивное управление

### 3. Производительность:
- ✅ Скрытые секции не рендерятся (v-show)
- ✅ Быстрое переключение
- ✅ Плавные анимации

### 4. Адаптивность:
- ✅ Работает на всех устройствах
- ✅ Удобно на мобильных
- ✅ Поддержка темной темы

---

## 📱 Использование

### Раскрыть секцию:
1. Открыть `/profile`
2. Найти нужную секцию (например, "Уведомления")
3. Кликнуть на заголовок секции
4. Секция раскроется с содержимым

### Свернуть секцию:
1. Кликнуть на заголовок раскрытой секции
2. Секция свернется

### Работа с несколькими секциями:
- Можно раскрыть несколько секций одновременно
- Каждая секция работает независимо
- Состояние не сохраняется при перезагрузке

---

## 🔄 Возможные улучшения

### 1. Сохранение состояния:
```javascript
// Сохранение в localStorage
function toggleSection(section) {
  expandedSections.value[section] = !expandedSections.value[section]
  localStorage.setItem('expandedSections', JSON.stringify(expandedSections.value))
}

// Загрузка при монтировании
onMounted(() => {
  const saved = localStorage.getItem('expandedSections')
  if (saved) {
    expandedSections.value = JSON.parse(saved)
  }
})
```

### 2. Анимация высоты:
```vue
<transition
  enter-active-class="transition-all duration-300 ease-out"
  leave-active-class="transition-all duration-300 ease-in"
  enter-from-class="max-h-0 opacity-0"
  enter-to-class="max-h-screen opacity-100"
  leave-from-class="max-h-screen opacity-100"
  leave-to-class="max-h-0 opacity-0"
>
  <div v-show="expandedSections.basic">
    <!-- Содержимое -->
  </div>
</transition>
```

### 3. Режим "только одна секция":
```javascript
function toggleSection(section) {
  // Закрываем все секции
  Object.keys(expandedSections.value).forEach(key => {
    expandedSections.value[key] = false
  })
  // Открываем выбранную
  expandedSections.value[section] = true
}
```

### 4. Счетчики:
```vue
<span class="font-medium text-gray-900 dark:text-gray-100">
  Основные настройки
  <span class="text-xs text-gray-500">(7)</span>
</span>
```

---

## ✅ Проверка работы

### 1. Раскрытие секций:
```
1. Открыть /profile
2. Кликнуть на "Основные настройки"
3. Секция должна раскрыться
4. Стрелка должна повернуться вверх
```

### 2. Сворачивание:
```
1. Кликнуть на раскрытую секцию
2. Секция должна свернуться
3. Стрелка должна повернуться вниз
```

### 3. Несколько секций:
```
1. Раскрыть "Основные настройки"
2. Раскрыть "Уведомления"
3. Обе секции должны быть открыты
4. Можно работать с обеими одновременно
```

### 4. Темная тема:
```
1. Переключить на темную тему
2. Проверить цвета заголовков
3. Проверить цвета содержимого
4. Все должно быть читаемо
```

---

## 🚀 Обновление

Фронтенд контейнер перезапущен:
```bash
docker restart chat_frontend
```

Все изменения применены и работают! ✅

---

## 🎯 Итог

### Добавлено:
- ✅ Аккордеон для настроек
- ✅ 3 секции (Основные, Уведомления, Разрешения)
- ✅ Иконки для каждой секции
- ✅ Анимация стрелки
- ✅ Поддержка темной темы

### Улучшено:
- ✅ Организация настроек
- ✅ Навигация по профилю
- ✅ Визуальная иерархия
- ✅ Удобство использования

### Работает:
- ✅ Раскрытие/сворачивание секций
- ✅ Независимая работа секций
- ✅ Плавные переходы
- ✅ Адаптивный дизайн
