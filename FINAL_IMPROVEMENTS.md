# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. ‚úÖ –°–≤–∞–π–ø –º—ã—à–∫–æ–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —á–∞—Ç–∞ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–±—Ä–∞–Ω–∞ –∏–∫–æ–Ω–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —á–∞—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω —Å–≤–∞–π–ø –º—ã—à–∫–æ–π (–∑–∞–∂–∞—Ç—å –∏ –ø–æ—Ç—è–Ω—É—Ç—å –≤–ª–µ–≤–æ)
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º (—Ç–∞—á), —Ç–∞–∫ –∏ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ (–º—ã—à—å)

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- **–ú–æ–±–∏–ª—å–Ω—ã–π:** –°–≤–∞–π–ø –ø–∞–ª—å—Ü–µ–º –≤–ª–µ–≤–æ ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
- **–î–µ—Å–∫—Ç–æ–ø:** –ó–∞–∂–∞—Ç—å –ª–µ–≤—É—é –∫–Ω–æ–ø–∫—É –º—ã—à–∏ –∏ –ø–æ—Ç—è–Ω—É—Ç—å –≤–ª–µ–≤–æ ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
- –ï—Å–ª–∏ —Å–≤–∞–π–ø > 60px ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è

**–ö–æ–¥:**
```javascript
// Mouse handlers
function handleMouseDown(event, chatId) {
  swipeStates.value[chatId] = {
    startX: event.clientX,
    translateX: 0,
    deleteWidth: 0,
    isDragging: true
  }
  event.preventDefault()
}

function handleMouseMove(event, chatId) {
  if (!swipeStates.value[chatId]?.isDragging) return
  
  const currentX = event.clientX
  const diff = swipeStates.value[chatId].startX - currentX
  
  if (diff > 0) {
    const translateX = Math.min(diff, 80)
    swipeStates.value[chatId].translateX = -translateX
    swipeStates.value[chatId].deleteWidth = translateX
  }
}
```

---

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–∞—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ß–∞—Ç –æ–ø—É—Å–∫–∞–ª—Å—è –≤–Ω–∏–∑ –ø–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ß–∞—Ç –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –Ω–∞–≤–µ—Ä—Ö –¢–û–õ–¨–ö–û –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ù–ï –≤—ã–∑—ã–≤–∞—é—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —á–∞—Ç–∞
- –ü—Ä–æ—á—Ç–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É

**–õ–æ–≥–∏–∫–∞:**
```javascript
if (data.message.sender_id !== authStore.user?.id) {
  // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
  unreadMessages.value[data.chat_id] = currentCount + 1
  
  // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —á–∞—Ç –Ω–∞–≤–µ—Ä—Ö
  const index = chats.value.indexOf(chat)
  if (index > 0) {
    chats.value.splice(index, 1)
    chats.value.unshift(chat)
  }
} else {
  // –°–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–µ–º
  console.log('Own message, not moving to top')
}
```

---

### 3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å –æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è "–æ–Ω–ª–∞–π–Ω" –ø—Ä–∏ –≤—Ö–æ–¥–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–æ—Ñ–ª–∞–π–Ω" –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–æ—Ñ–ª–∞–π–Ω" –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–æ–Ω–ª–∞–π–Ω" –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É

**–°–æ–±—ã—Ç–∏—è:**
- `visibilitychange` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
- `beforeunload` - –∑–∞–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `connected` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket

**–ö–æ–¥:**
```javascript
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
const handleVisibilityChange = () => {
  if (document.hidden) {
    websocket.updateStatus('offline')
  } else {
    websocket.updateStatus('online')
  }
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
const handleBeforeUnload = () => {
  websocket.updateStatus('offline')
}

document.addEventListener('visibilitychange', handleVisibilityChange)
window.addEventListener('beforeunload', handleBeforeUnload)
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –°–≤–∞–π–ø –º—ã—à–∫–æ–π

**–ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ /chats
2. –ù–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π —á–∞—Ç
3. –ó–∞–∂–º–∏—Ç–µ –ª–µ–≤—É—é –∫–Ω–æ–ø–∫—É –º—ã—à–∏
4. –ü–æ—Ç—è–Ω–∏—Ç–µ –≤–ª–µ–≤–æ
5. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
6. –ï—Å–ª–∏ –ø–æ—Ç—è–Ω—É—Ç—å > 60px –∏ –æ—Ç–ø—É—Å—Ç–∏—Ç—å ‚Üí –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

**–ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ /chats
2. –°–≤–∞–π–ø–Ω–∏—Ç–µ —á–∞—Ç –≤–ª–µ–≤–æ –ø–∞–ª—å—Ü–µ–º
3. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è

### –¢–µ—Å—Ç 2: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–∞—Ç–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–≤–∞ –æ–∫–Ω–∞ (user1 –∏ user2)
2. –í –æ–∫–Ω–µ user1 –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ user2
3. –í –æ–∫–Ω–µ user2:
   - ‚úÖ –ß–∞—Ç –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è –Ω–∞–≤–µ—Ä—Ö
   - ‚úÖ –ü–æ—è–≤–∏–ª—Å—è —Å—á–µ—Ç—á–∏–∫ "1"
4. –í –æ–∫–Ω–µ user2 –æ—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –æ—Ç–≤–µ—Ç
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–∫–Ω–æ user2:
   - ‚úÖ –ß–∞—Ç –ù–ï –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è (–æ—Å—Ç–∞–ª—Å—è –Ω–∞ –º–µ—Å—Ç–µ)
   - ‚úÖ –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

### –¢–µ—Å—Ç 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–≤–∞ –æ–∫–Ω–∞ (user1 –∏ user2)
2. –í –æ–∫–Ω–µ user1 –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø—Ä–æ—Ñ–∏–ª—å user2
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "–æ–Ω–ª–∞–π–Ω" (–∑–µ–ª–µ–Ω—ã–π)
4. –í –æ–∫–Ω–µ user2 –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É
5. –í –æ–∫–Ω–µ user1 –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
6. –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å "–æ—Ñ–ª–∞–π–Ω" (—Å–µ—Ä—ã–π)
7. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –æ–∫–Ω–æ user2
8. –í –æ–∫–Ω–µ user1 –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
9. –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å "–æ–Ω–ª–∞–π–Ω" (–∑–µ–ª–µ–Ω—ã–π)

---

## üìä –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ß–∞—Ç—ã
- ‚úÖ –°–≤–∞–π–ø –º—ã—à–∫–æ–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (–¥–µ—Å–∫—Ç–æ–ø)
- ‚úÖ –°–≤–∞–π–ø –ø–∞–ª—å—Ü–µ–º –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (–º–æ–±–∏–ª—å–Ω—ã–π)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–Ω–µ –æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è)
- ‚úÖ –°—á–µ—Ç—á–∏–∫ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
- ‚úÖ WebSocket –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –°—Ç–∞—Ç—É—Å—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–Ω–ª–∞–π–Ω –ø—Ä–∏ –≤—Ö–æ–¥–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ñ–ª–∞–π–Ω –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ñ–ª–∞–π–Ω –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–Ω–ª–∞–π–Ω –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É

### UI/UX
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–≤–∞–π–ø–∞
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

---

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –°–≤–∞–π–ø –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- –ö—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å–≤–∞–π–ø 80px
- –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–≤–∞–π–ø–µ > 60px
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –ø—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- –ß–∞—Ç—ã —Å –Ω–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤—Å–µ–≥–¥–∞ –Ω–∞–≤–µ—Ä—Ö—É
- –°–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ—Ä—è–¥–æ–∫
- –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è

### –°—Ç–∞—Ç—É—Å—ã
- –ó–µ–ª–µ–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä = –æ–Ω–ª–∞–π–Ω
- –°–µ—Ä—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä = –æ—Ñ–ª–∞–π–Ω
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:
- ‚úÖ –°–≤–∞–π–ø –º—ã—à–∫–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ

–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+R) –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ!

---

**–î–∞—Ç–∞:** 23.11.2025 13:30
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω—ã
