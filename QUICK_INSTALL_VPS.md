# ‚ö° –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ VPS Ubuntu

## üéØ –ó–∞ 5 –º–∏–Ω—É—Ç –¥–æ –∑–∞–ø—É—Å–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Ubuntu 20.04/22.04
- 4GB RAM –º–∏–Ω–∏–º—É–º
- –î–æ–º–µ–Ω —Å A-–∑–∞–ø–∏—Å—å—é –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
- Root –¥–æ—Å—Ç—É–ø –ø–æ SSH

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@–≤–∞—à-—Å–µ—Ä–≤–µ—Ä-ip
```

### –®–∞–≥ 2: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /tmp
git clone <repository-url> corporate-messenger
cd corporate-messenger
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```bash
chmod +x deploy-ubuntu.sh
sudo bash deploy-ubuntu.sh
```

**–°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç:**
- –í–∞—à –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: chat.company.com)
- Email –¥–ª—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

### –®–∞–≥ 4: –û–∂–∏–¥–∞–Ω–∏–µ (10-15 –º–∏–Ω—É—Ç)
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Docker –∏ Docker Compose
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Nginx
- ‚úÖ –ü–æ–ª—É—á–∏—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç Firewall
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –®–∞–≥ 5: –ì–æ—Ç–æ–≤–æ! üéâ
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **https://–≤–∞—à-–¥–æ–º–µ–Ω.com**

**–î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞:**
- –õ–æ–≥–∏–Ω: `admin`
- –ü–∞—Ä–æ–ª—å: `admin123`

‚ö†Ô∏è **–°—Ä–∞–∑—É —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å!**

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–º–∞–Ω–¥—ã:

```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
chat-status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
chat-logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
chat-restart

# Dashboard
chat-dashboard

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
chat-health

# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
chat-backup
```

---

## üìã –ß—Ç–æ –¥–∞–ª—å—à–µ?

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
sudo bash monitoring-setup.sh –≤–∞—à-email@example.com
```

–≠—Ç–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –Ω–∞ email
- –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
```bash
chat-health
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä dashboard
```bash
chat-dashboard
```

---

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
```bash
cd /opt/corporate-messenger
docker-compose -f docker-compose.prod.yml logs
```

### SSL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
sudo certbot certificates
sudo certbot renew
sudo systemctl restart nginx
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
sudo netstat -tlnp | grep -E "80|443"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx
sudo nginx -t
sudo systemctl status nginx

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ
chat-restart
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [INSTALL_VPS.md](INSTALL_VPS.md) - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- [DEPLOYMENT.md](DEPLOYMENT.md) - Production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- [README.md](README.md) - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:

1. ‚úÖ –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. ‚úÖ –ò–∑–º–µ–Ω–∏—Ç–µ SECRET_KEY –≤ `/opt/corporate-messenger/backend/.env`
3. ‚úÖ –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å PostgreSQL
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
5. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Fail2Ban (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```bash
   sudo apt install fail2ban -y
   ```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –õ–æ–≥–∏
chat-logs
```

### Dashboard
```bash
chat-dashboard
```

### –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
```bash
chat-health –≤–∞—à-–¥–æ–º–µ–Ω.com
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
cd /opt/corporate-messenger
sudo bash update-app.sh
```

---

## üíæ –ë—ç–∫–∞–ø—ã

### –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –≤—Ä—É—á–Ω—É—é
```bash
chat-backup
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞
```bash
cd /opt/corporate-messenger
sudo bash restore-backup.sh backups/backup_20240101_120000.sql.gz
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã! –°–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2:00 –Ω–æ—á–∏.

–•—Ä–∞–Ω—è—Ç—Å—è –≤: `/opt/corporate-messenger/backups/`

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `chat-logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `chat-status`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–¥–æ—Ä–æ–≤—å–µ: `chat-health`
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: [INSTALL_VPS.md](INSTALL_VPS.md)
5. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ GitHub

---

**–ì–æ—Ç–æ–≤–æ!** –í–∞—à –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç! üöÄ
