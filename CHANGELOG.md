# Changelog

Все значимые изменения в проекте будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/lang/ru/).

## [Unreleased]

### Планируется
- Видео/аудио звонки через WebRTC
- Push уведомления для мобильных устройств
- Интеграция с внешними сервисами (Jira, Trello)
- Расширенная аналитика и отчеты
- Мобильные приложения (iOS/Android)

## [1.0.0] - 2024-01-15

### Добавлено

#### Основные функции
- ✅ Система аутентификации с JWT (access + refresh tokens)
- ✅ Регистрация и вход пользователей
- ✅ Профили пользователей с аватарами
- ✅ Роли пользователей (Admin, Manager, Employee)

#### Чаты и сообщения
- ✅ Личные чаты (1 на 1)
- ✅ Групповые чаты с неограниченным количеством участников
- ✅ Роли в группах (владелец, админ, участник)
- ✅ Текстовые сообщения
- ✅ Отправка изображений
- ✅ Отправка файлов
- ✅ Голосовые сообщения (audio/ogg, webm)
- ✅ Реакции на сообщения (эмодзи)
- ✅ Редактирование сообщений
- ✅ Удаление сообщений
- ✅ Ответ на сообщение (reply)
- ✅ Пересылка сообщений
- ✅ Статусы сообщений (отправлено, доставлено, прочитано)
- ✅ Поиск по сообщениям

#### Реалтайм функции
- ✅ WebSocket подключение для мгновенной доставки сообщений
- ✅ Индикатор "печатает..."
- ✅ Статусы присутствия (онлайн/оффлайн/отошел)
- ✅ Последнее посещение
- ✅ Реалтайм обновления статусов

#### Управление задачами
- ✅ Создание задач с описанием
- ✅ Приоритеты задач (низкий, средний, высокий, срочный)
- ✅ Статусы задач (todo, in_progress, done, overdue)
- ✅ Назначение исполнителей (один или несколько)
- ✅ Дедлайны
- ✅ Комментарии к задачам
- ✅ Подзадачи с отдельными исполнителями
- ✅ Теги и категории
- ✅ Прикрепление файлов к задачам

#### Маршруты
- ✅ Создание маршрутов с множественными локациями
- ✅ Назначение сотрудников на маршруты
- ✅ Статусы локаций (ожидание, прибыл, в пути, выполнено)
- ✅ Описание задач для каждой локации
- ✅ Реалтайм обновления статусов маршрутов

#### Заметки
- ✅ Личные заметки пользователей
- ✅ Заметки о других пользователях (приватные)
- ✅ Категории заметок (личное, рабочее)
- ✅ Теги для заметок
- ✅ Закрепленные заметки
- ✅ Прикрепление файлов к заметкам

#### Отпуска
- ✅ Создание запросов на отпуск
- ✅ Типы отпусков (основной, больничный, отгул, другое)
- ✅ Утверждение/отклонение запросов (Admin/Manager)
- ✅ Календарь отпусков
- ✅ Комментарии к запросам
- ✅ Уведомления о статусе запроса

#### Дни рождения
- ✅ Автоматический список ближайших дней рождения
- ✅ Сортировка по датам
- ✅ Уведомления в день рождения
- ✅ Быстрый доступ к поздравлениям

#### Уведомления
- ✅ Централизованная система уведомлений
- ✅ Типы уведомлений:
  - Новое сообщение
  - Назначена задача
  - Комментарий к задаче
  - Изменен статус задачи
  - Назначен маршрут
  - Запрос на отпуск
  - День рождения коллеги
  - Упоминание в сообщении
- ✅ Фильтр непрочитанных уведомлений
- ✅ Отметить все как прочитанные
- ✅ Переход к источнику уведомления

#### UI/UX
- ✅ Минималистичный дизайн в стиле Telegram
- ✅ Светлая тема
- ✅ Темная тема
- ✅ Адаптивный дизайн для мобильных устройств
- ✅ Плавные анимации
- ✅ Интуитивная навигация
- ✅ Боковая панель навигации
- ✅ Список чатов слева, сообщения справа

#### Backend
- ✅ FastAPI фреймворк
- ✅ SQLAlchemy 2.0 ORM
- ✅ PostgreSQL база данных
- ✅ Alembic миграции
- ✅ Async/await поддержка
- ✅ WebSocket сервер
- ✅ JWT аутентификация
- ✅ Bcrypt хэширование паролей
- ✅ Pydantic валидация
- ✅ CORS middleware
- ✅ Загрузка файлов
- ✅ Ограничение размера файлов
- ✅ Проверка типов файлов

#### Frontend
- ✅ Vue.js 3 с Composition API
- ✅ Pinia state management
- ✅ Vue Router
- ✅ Axios HTTP клиент
- ✅ WebSocket клиент
- ✅ Автоматическое обновление токенов
- ✅ SCSS стили
- ✅ Адаптивная верстка

#### DevOps
- ✅ Docker контейнеризация
- ✅ Docker Compose оркестрация
- ✅ Nginx reverse proxy
- ✅ SSL/TLS поддержка
- ✅ Скрипт создания администратора
- ✅ Автоматические бэкапы БД

#### Документация
- ✅ README с быстрым стартом
- ✅ Инструкция по установке (SETUP.md)
- ✅ Архитектура проекта (ARCHITECTURE.md)
- ✅ API документация (API_DOCUMENTATION.md)
- ✅ Список функций (FEATURES.md)
- ✅ Примеры использования (EXAMPLES.md)
- ✅ Руководство по деплою (DEPLOYMENT.md)
- ✅ Структура проекта (PROJECT_STRUCTURE.md)
- ✅ TODO список (TODO.md)
- ✅ Changelog (CHANGELOG.md)
- ✅ Лицензия MIT (LICENSE)

#### Безопасность
- ✅ JWT токены с истечением
- ✅ Refresh токены
- ✅ Хэширование паролей
- ✅ Проверка прав доступа
- ✅ Защита WebSocket соединений
- ✅ Валидация входных данных
- ✅ Ограничение размера файлов
- ✅ Проверка типов файлов

### Технические детали

#### Backend Stack
- Python 3.11+
- FastAPI 0.104+
- SQLAlchemy 2.0+
- PostgreSQL 15+
- Alembic 1.12+
- Pydantic 2.5+
- python-jose (JWT)
- passlib (bcrypt)
- websockets 12.0+

#### Frontend Stack
- Vue.js 3.3+
- Pinia 2.1+
- Vue Router 4.2+
- Axios 1.6+
- Vite 5.0+
- SCSS

#### Infrastructure
- Docker 20.10+
- Docker Compose 2.0+
- Nginx (для production)
- PostgreSQL 15

### Известные ограничения

- WebSocket не поддерживает автоматическое переподключение при потере соединения
- Максимальный размер файла: 10MB
- Поиск по сообщениям работает только по содержимому, без фильтров по дате
- Отсутствует полнотекстовый поиск
- Нет кэширования запросов
- Отсутствует rate limiting на API

## [0.9.0] - 2024-01-10 (Beta)

### Добавлено
- Базовая структура проекта
- Настройка Docker окружения
- Базовые модели БД
- Аутентификация пользователей
- Простой чат функционал

### Изменено
- Обновлена структура БД
- Улучшена безопасность

### Исправлено
- Проблемы с подключением к БД
- Ошибки валидации

## [0.5.0] - 2024-01-05 (Alpha)

### Добавлено
- Первоначальная версия проекта
- Базовая аутентификация
- Простые чаты
- Базовый UI

---

## Типы изменений

- `Добавлено` - новые функции
- `Изменено` - изменения в существующей функциональности
- `Устарело` - функции, которые скоро будут удалены
- `Удалено` - удаленные функции
- `Исправлено` - исправления багов
- `Безопасность` - исправления уязвимостей

## Ссылки

- [Unreleased]: https://github.com/username/corporate-messenger/compare/v1.0.0...HEAD
- [1.0.0]: https://github.com/username/corporate-messenger/releases/tag/v1.0.0
- [0.9.0]: https://github.com/username/corporate-messenger/releases/tag/v0.9.0
- [0.5.0]: https://github.com/username/corporate-messenger/releases/tag/v0.5.0
