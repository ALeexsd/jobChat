# ✅ Добавлен спойлер "Безопасность"

## 🎯 Что изменено

### Было:
Отдельная карточка "Изменить пароль" вне настроек:
```
┌─────────────────────────────────────────┐
│ Настройки                               │
│ - Основные настройки                    │
│ - Уведомления                           │
│ - Разрешения                            │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ Изменить пароль                         │
│ [Текущий пароль]                        │
│ [Новый пароль]                          │
│ [Подтвердите пароль]                    │
│ [Изменить пароль]                       │
└─────────────────────────────────────────┘
```

### Стало:
Спойлер "Безопасность" внутри настроек:
```
┌─────────────────────────────────────────┐
│ Настройки                               │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 👤 Основные настройки          ▼   │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 🔔 Уведомления                 ▼   │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 🛡️ Разрешения                   ▼   │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 🔒 Безопасность                ▼   │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### Развернутый вид "Безопасность":
```
┌─────────────────────────────────────────┐
│ 🔒 Безопасность                    ▲   │
├─────────────────────────────────────────┤
│ Изменить пароль                         │
│                                         │
│ Текущий пароль                          │
│ [••••••••]                              │
│                                         │
│ Новый пароль                            │
│ [••••••••]                              │
│                                         │
│ Подтвердите пароль                      │
│ [••••••••]                              │
│                                         │
│ [Изменить пароль]                       │
└─────────────────────────────────────────┘
```

---

## 🎨 Особенности

### Иконка:
- 🔒 **LockClosedIcon** - замок для безопасности

### Содержимое:
- Заголовок "Изменить пароль"
- Форма с тремя полями
- Кнопка на всю ширину

### Поведение:
- По умолчанию свернуто
- Раскрывается по клику
- Независимо от других секций

---

## 📋 Структура настроек

Теперь в настройках **4 секции**:

1. **👤 Основные настройки**
   - Статус
   - Имя пользователя
   - Email
   - Телефон
   - Должность
   - Имя и Фамилия

2. **🔔 Уведомления**
   - Push-уведомления
   - Звуковые уведомления
   - Email уведомления

3. **🛡️ Разрешения**
   - Камера
   - Фотоальбом
   - Хранилище
   - Микрофон

4. **🔒 Безопасность** ← Новая секция!
   - Изменить пароль

---

## 💡 Преимущества

### 1. Организация:
- ✅ Все настройки в одном месте
- ✅ Логическая группировка
- ✅ Безопасность отдельной секцией

### 2. UX:
- ✅ Меньше прокрутки
- ✅ Чистый интерфейс
- ✅ Интуитивное расположение

### 3. Консистентность:
- ✅ Единый стиль для всех настроек
- ✅ Одинаковое поведение секций
- ✅ Согласованный дизайн

---

## 🔧 Техническая реализация

### Код:
```vue
<!-- Аккордеон: Безопасность -->
<div class="border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden">
  <button
    @click="toggleSection('security')"
    class="w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
  >
    <div class="flex items-center gap-3">
      <LockClosedIcon class="w-5 h-5 text-gray-600 dark:text-gray-400" />
      <span class="font-medium text-gray-900 dark:text-gray-100">Безопасность</span>
    </div>
    <ChevronDownIcon
      :class="[
        'w-5 h-5 text-gray-600 dark:text-gray-400 transition-transform',
        expandedSections.security ? 'rotate-180' : ''
      ]"
    />
  </button>
  <div v-show="expandedSections.security" class="p-4 bg-white dark:bg-gray-800">
    <div class="space-y-4">
      <h4 class="text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3">
        Изменить пароль
      </h4>
      <form @submit.prevent="handleChangePassword" class="space-y-4">
        <!-- Поля формы -->
      </form>
    </div>
  </div>
</div>
```

### Состояние:
```javascript
const expandedSections = ref({
  basic: false,
  notifications: false,
  permissions: false,
  security: false  // ← Добавлено
})
```

---

## 📱 Использование

### Изменить пароль:
1. Открыть `/profile`
2. Найти секцию "🔒 Безопасность"
3. Кликнуть на заголовок
4. Секция раскроется с формой
5. Заполнить поля:
   - Текущий пароль
   - Новый пароль
   - Подтверждение пароля
6. Нажать "Изменить пароль"

---

## ✅ Проверка работы

### 1. Раскрытие секции:
```
1. Открыть /profile
2. Кликнуть на "Безопасность"
3. Секция должна раскрыться
4. Форма изменения пароля видна
```

### 2. Изменение пароля:
```
1. Раскрыть "Безопасность"
2. Ввести текущий пароль
3. Ввести новый пароль
4. Подтвердить новый пароль
5. Нажать "Изменить пароль"
6. Должно появиться уведомление
```

### 3. Независимость секций:
```
1. Раскрыть "Безопасность"
2. Раскрыть "Уведомления"
3. Обе секции должны быть открыты
4. Можно работать с обеими
```

---

## 🚀 Обновление

Фронтенд контейнер перезапущен:
```bash
docker restart chat_frontend
```

Все изменения применены и работают! ✅

---

## 🎯 Итог

### Добавлено:
- ✅ Спойлер "Безопасность" в настройках
- ✅ Иконка замка (LockClosedIcon)
- ✅ Форма изменения пароля внутри спойлера

### Удалено:
- ❌ Отдельная карточка "Изменить пароль"

### Улучшено:
- ✅ Организация настроек
- ✅ Консистентность интерфейса
- ✅ Навигация по профилю

### Работает:
- ✅ Раскрытие/сворачивание секции
- ✅ Изменение пароля
- ✅ Валидация формы
- ✅ Адаптивный дизайн
