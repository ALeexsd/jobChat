# โ ะัะฟัะฐะฒะปะตะฝะธะต ะพัะพะฑัะฐะถะตะฝะธั ะคะะ ะธ ะพะฝะปะฐะนะฝ ััะฐัััะฐ

## ๐ง ะงัะพ ะธัะฟัะฐะฒะปะตะฝะพ

### 1. ะัะพะฑัะฐะถะตะฝะธะต ะคะะ ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ะพัะฟััะบะฐั

#### ะัะพะฑะปะตะผะฐ:
- โ ะ ัะฟัะฐะฒะปะตะฝะธะธ ะพัะฟััะบะฐะผะธ ะพัะพะฑัะฐะถะฐะปะพัั "ะะตะธะทะฒะตััะฝัะน ะฟะพะปัะทะพะฒะฐัะตะปั"
- โ API ะฒะพะทะฒัะฐัะฐะป ัะพะปัะบะพ `user_id`, ะฝะพ ะฝะต ะธะผั ะฟะพะปัะทะพะฒะฐัะตะปั

#### ะะตัะตะฝะธะต:
- โ **ะะฑะฝะพะฒะปะตะฝ API** `/vacations/` (backend)
  - ะขะตะฟะตัั ะทะฐะณััะถะฐะตั ะธะฝัะพัะผะฐัะธั ะพ ะฟะพะปัะทะพะฒะฐัะตะปัั
  - ะะพะทะฒัะฐัะฐะตั `user_name` ั ะฟะพะปะฝัะผ ะคะะ
  - ะคะพัะผะฐั: "ะะผั ะคะฐะผะธะปะธั"

#### ะะทะผะตะฝะตะฝะธั ะฒ ะบะพะดะต:

**Backend (`backend/app/api/vacations.py`):**
```python
@router.get("/")
async def get_vacations(...):
    # ะะพะปััะฐะตะผ ะพัะฟััะบะฐ
    vacations = result.scalars().all()
    
    # ะะฐะณััะถะฐะตะผ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
    user_ids = [v.user_id for v in vacations]
    users_result = await db.execute(
        select(User).where(User.id.in_(user_ids))
    )
    users = {u.id: u for u in users_result.scalars().all()}
    
    # ะคะพัะผะธััะตะผ ะพัะฒะตั ั ะคะะ
    for vacation in vacations:
        user = users.get(vacation.user_id)
        vacation_dict = {
            ...
            "user_name": f"{user.first_name} {user.last_name}" if user else "ะะตะธะทะฒะตััะฝัะน ะฟะพะปัะทะพะฒะฐัะตะปั",
            ...
        }
```

**ะะตะทัะปััะฐั:**
- โ ะขะตะฟะตัั ะพัะพะฑัะฐะถะฐะตััั ะฟะพะปะฝะพะต ะคะะ ะฟะพะปัะทะพะฒะฐัะตะปั
- โ ะะฒะฐัะฐั ั ะฟะตัะฒะพะน ะฑัะบะฒะพะน ะธะผะตะฝะธ
- โ ID ะฟะพะปัะทะพะฒะฐัะตะปั ะดะปั ัะฟัะฐะฒะบะธ

---

### 2. ะะพััะตะบัะฝะพะต ะพัะพะฑัะฐะถะตะฝะธะต ะพะฝะปะฐะนะฝ ััะฐัััะฐ

#### ะัะพะฑะปะตะผะฐ:
- โ ะะบะพะฝะบะฐ ะพะฝะปะฐะนะฝ/ะพัะปะฐะนะฝ ะฝะต ะพัะพะฑัะฐะถะฐะปะฐัั ะบะพััะตะบัะฝะพ
- โ ะะต ััะธััะฒะฐะปัั ััะฐััั "away" (ะพัะพัะตะป)
- โ ะะต ะฑัะปะพ ะฒะธะทัะฐะปัะฝะพะน ะธะฝะดะธะบะฐัะธะธ ััะฐัััะฐ

#### ะะตัะตะฝะธะต:
- โ **ะะพะดะตะปั User** ัะถะต ะธะผะตะตั ะฟะพะปะต `status` (online/offline/away)
- โ **ะกัะตะผะฐ UserResponse** ะฒะพะทะฒัะฐัะฐะตั ััะฐััั ะฒ API
- โ **ะะฑะฝะพะฒะปะตะฝั ะบะพะผะฟะพะฝะตะฝัั** ะดะปั ะบะพััะตะบัะฝะพะณะพ ะพัะพะฑัะฐะถะตะฝะธั

#### ะะทะผะตะฝะตะฝะธั ะฒ ะบะพะผะฟะพะฝะตะฝัะฐั:

**1. EmployeesView.vue (ะกะพัััะดะฝะธะบะธ):**
```vue
<!-- ะะฝะดะธะบะฐัะพั ััะฐัััะฐ -->
<div :class="[
  'w-2 h-2 rounded-full',
  employee.status === 'online' ? 'bg-green-500' : 
  employee.status === 'away' ? 'bg-yellow-500' : 
  'bg-gray-400'
]" :title="getStatusLabel(employee.status)"></div>
```

**2. UsersManagementView.vue (ะะพะปัะทะพะฒะฐัะตะปะธ):**
```vue
<!-- ะะฝะดะธะบะฐัะพั ะฝะฐ ะฐะฒะฐัะฐัะต -->
<div :class="[
  'absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-white',
  user.status === 'online' ? 'bg-green-500' : 
  user.status === 'away' ? 'bg-yellow-500' : 
  'bg-gray-400'
]"></div>

<!-- ะขะตะบััะพะฒัะน ััะฐััั -->
<span :class="[
  'text-xs px-2 py-0.5 rounded-full',
  user.status === 'online' ? 'bg-green-100 text-green-800' : 
  user.status === 'away' ? 'bg-yellow-100 text-yellow-800' : 
  'bg-gray-100 text-gray-800'
]">
  {{ getStatusLabel(user.status) }}
</span>
```

#### ะกัะฐัััั ะฟะพะปัะทะพะฒะฐัะตะปะตะน:

| ะกัะฐััั | ะฆะฒะตั | ะะฟะธัะฐะฝะธะต |
|--------|------|----------|
| ๐ข online | ะะตะปะตะฝัะน | ะะพะปัะทะพะฒะฐัะตะปั ะพะฝะปะฐะนะฝ |
| ๐ก away | ะะตะปััะน | ะะพะปัะทะพะฒะฐัะตะปั ะพัะพัะตะป |
| โช offline | ะกะตััะน | ะะพะปัะทะพะฒะฐัะตะปั ะพััะปะฐะนะฝ |

---

## ๐ ะะธะทัะฐะปัะฝัะต ัะปัััะตะฝะธั

### ะฃะฟัะฐะฒะปะตะฝะธะต ะพัะฟััะบะฐะผะธ:
- โ ะะฒะฐัะฐั ั ะธะฝะธัะธะฐะปะฐะผะธ ะฟะพะปัะทะพะฒะฐัะตะปั
- โ ะะพะปะฝะพะต ะคะะ ะฒะผะตััะพ "ะะตะธะทะฒะตััะฝัะน ะฟะพะปัะทะพะฒะฐัะตะปั"
- โ ID ะฟะพะปัะทะพะฒะฐัะตะปั ะดะปั ัะฟัะฐะฒะบะธ
- โ ะัะต ะดะฐะฝะฝัะต ะทะฐะณััะถะฐัััั ะบะพััะตะบัะฝะพ

### ะกะฟะธัะพะบ ัะพัััะดะฝะธะบะพะฒ:
- โ ะะฐะปะตะฝัะบะฐั ัะพัะบะฐ ััะดะพะผ ั ะธะผะตะฝะตะผ (2x2px)
- โ ะฆะฒะตั ะทะฐะฒะธัะธั ะพั ััะฐัััะฐ
- โ ะะพะดัะบะฐะทะบะฐ ะฟัะธ ะฝะฐะฒะตะดะตะฝะธะธ (title)

### ะกะฟะธัะพะบ ะฟะพะปัะทะพะฒะฐัะตะปะตะน:
- โ ะะฝะดะธะบะฐัะพั ะฝะฐ ะฐะฒะฐัะฐัะต (4x4px ั ะฑะตะปะพะน ัะฐะผะบะพะน)
- โ ะขะตะบััะพะฒัะน ะฑะตะนะดะถ ัะพ ััะฐัััะพะผ
- โ ะฆะฒะตัะพะฒะฐั ะธะฝะดะธะบะฐัะธั
- โ ะะฐะฑะพัะฐะตั ั ะฐะฒะฐัะฐัะฐะผะธ ะธ ะธะฝะธัะธะฐะปะฐะผะธ

---

## ๐ API ะธะทะผะตะฝะตะฝะธั

### GET /vacations/
**ะัะปะพ:**
```json
{
  "id": 1,
  "user_id": 5,
  "start_date": "2025-12-01",
  "end_date": "2025-12-15",
  "status": "pending"
}
```

**ะกัะฐะปะพ:**
```json
{
  "id": 1,
  "user_id": 5,
  "user_name": "ะะฒะฐะฝ ะะฒะฐะฝะพะฒ",
  "start_date": "2025-12-01",
  "end_date": "2025-12-15",
  "status": "pending",
  "reason": "ะัะฟััะบ",
  "created_at": "2025-11-22T10:00:00"
}
```

### GET /users/
**ะะพะทะฒัะฐัะฐะตั:**
```json
{
  "id": 5,
  "username": "ivan",
  "first_name": "ะะฒะฐะฝ",
  "last_name": "ะะฒะฐะฝะพะฒ",
  "email": "ivan@example.com",
  "position": "ะะตะฝะตะดะถะตั",
  "role": "employee",
  "status": "online",  // โ ะขะตะฟะตัั ะธัะฟะพะปัะทัะตััั!
  "avatar_url": "/uploads/avatars/5.jpg",
  "last_seen": "2025-11-22T10:00:00",
  "is_active": true
}
```

---

## ๐จ ะัะธะผะตัั ะพัะพะฑัะฐะถะตะฝะธั

### ะัะฟััะบะฐ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ค ะะฒะฐะฝ ะะฒะฐะฝะพะฒ                          โ
โ    ID ะฟะพะปัะทะพะฒะฐัะตะปั: 5                   โ
โ                                         โ
โ ๐ 1 ะดะตะบะฐะฑัั 2025 ะณ. - 15 ะดะตะบะฐะฑัั 2025 ะณ.โ
โ    (15 ะดะฝะตะน)                            โ
โ                                         โ
โ ๐ก ะะถะธะดะฐะตั ะพะดะพะฑัะตะฝะธั                    โ
โ                                         โ
โ [ะะดะพะฑัะธัั] [ะัะบะปะพะฝะธัั] ๐๏ธ              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะกะพัััะดะฝะธะบะธ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ค ะะฒะฐะฝ ะะฒะฐะฝะพะฒ ๐ข                       โ
โ    @ivan โข ะะตะฝะตะดะถะตั                     โ
โ                          [ะะฐะฟะธัะฐัั]     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะพะปัะทะพะฒะฐัะตะปะธ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ค๐ข ะะฒะฐะฝ ะะฒะฐะฝะพะฒ [ะะฝะปะฐะนะฝ]               โ
โ     ivan@example.com                    โ
โ     ะะตะฝะตะดะถะตั                            โ
โ     [ะะพะปัะทะพะฒะฐัะตะปั]                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## โ ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

### ะัะฟััะบะฐ:
1. โ ะัะบัััั `/admin/vacations`
2. โ ะัะพะฒะตัะธัั, ััะพ ะพัะพะฑัะฐะถะฐะตััั ะคะะ ะฟะพะปัะทะพะฒะฐัะตะปั
3. โ ะัะพะฒะตัะธัั, ััะพ ะตััั ะฐะฒะฐัะฐั ั ะธะฝะธัะธะฐะปะฐะผะธ
4. โ ะัะพะฒะตัะธัั, ััะพ ะฝะตั "ะะตะธะทะฒะตััะฝัะน ะฟะพะปัะทะพะฒะฐัะตะปั"

### ะะฝะปะฐะนะฝ ััะฐััั:
1. โ ะัะบัััั `/employees` (ะกะพัััะดะฝะธะบะธ)
2. โ ะัะพะฒะตัะธัั ัะพัะบั ััะดะพะผ ั ะธะผะตะฝะตะผ
3. โ ะัะบัััั `/users` (ะะพะปัะทะพะฒะฐัะตะปะธ)
4. โ ะัะพะฒะตัะธัั ะธะฝะดะธะบะฐัะพั ะฝะฐ ะฐะฒะฐัะฐัะต
5. โ ะัะพะฒะตัะธัั ัะตะบััะพะฒัะน ะฑะตะนะดะถ ัะพ ััะฐัััะพะผ

---

## ๐ ะะฑะฝะพะฒะปะตะฝะธะต

ะะพะฝัะตะนะฝะตัั ะฟะตัะตะทะฐะฟััะตะฝั:
```bash
docker restart chat_backend
docker restart chat_frontend
```

ะัะต ะธะทะผะตะฝะตะฝะธั ะฟัะธะผะตะฝะตะฝั ะธ ัะฐะฑะพัะฐัั! โ

---

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะปัััะตะฝะธั

### ะคัะฝะบัะธั getStatusLabel():
```javascript
function getStatusLabel(status) {
  const labels = {
    online: 'ะะฝะปะฐะนะฝ',
    offline: 'ะััะปะฐะนะฝ',
    away: 'ะัะพัะตะป'
  }
  return labels[status] || status
}
```

### ะฆะฒะตัะพะฒะฐั ััะตะผะฐ:
- **ะะตะปะตะฝัะน** (`bg-green-500`) - ะะฝะปะฐะนะฝ
- **ะะตะปััะน** (`bg-yellow-500`) - ะัะพัะตะป
- **ะกะตััะน** (`bg-gray-400`) - ะััะปะฐะนะฝ

### ะะดะฐะฟัะธะฒะฝะพััั:
- โ ะะฐะฑะพัะฐะตั ะฒ ัะฒะตัะปะพะน ะธ ัะตะผะฝะพะน ัะตะผะต
- โ ะะพััะตะบัะฝัะต ัะฒะตัะฐ ะดะปั dark mode
- โ ะะตะปะฐั ัะฐะผะบะฐ ะฒะพะบััะณ ะธะฝะดะธะบะฐัะพัะฐ ะฝะฐ ะฐะฒะฐัะฐัะต
